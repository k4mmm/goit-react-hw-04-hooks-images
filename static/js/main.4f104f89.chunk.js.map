{"version":3,"sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.jsx","service/apiRequest.js","index.js"],"names":["Searchbar","styled","header","SearchForm","form","SearchButton","button","ButtonLabel","label","SearchInput","input","value","onSubmit","useState","searchValue","setSearchValue","e","preventDefault","trim","toast","error","page","type","onChange","currentTarget","autocomplete","autoFocus","placeholder","Gallery","ul","ImageGallery","children","GalleryImgItem","li","GalleryImg","img","GalleryItem","images","onClick","map","webformatURL","tags","largeImageURL","src","alt","LoadMore","Button","Overlay","div","ModalImg","Modal","modalSrc","keyDown","onCloseModal","useCallback","target","code","useEffect","window","addEventListener","removeEventListener","App","setImages","setPage","isLoader","setIsLoader","setModalSrc","searchbarData","API","axios","get","then","r","data","apiRequest","hits","length","ps","scrollToBottom","catch","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","className","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f104f89.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Searchbar = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const ButtonLabel = styled.label`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport PropTypes from \"prop-types\";\nimport {\n  ButtonLabel,\n  SearchButton,\n  SearchForm,\n  SearchInput,\n  Searchbar as SearchbarItem,\n} from \"./Searchbar.styled\";\n\nexport const Searchbar = ({ value, onSubmit }) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const onSearchChange = (e) => {\n    setSearchValue(e.currentTarget.value);\n  };\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    searchValue.trim() === \"\"\n      ? toast.error(\"Search is empty\")\n      : onSubmit({ value: searchValue, page: 1 });\n  };\n\n  return (\n    <SearchbarItem>\n      <SearchForm onSubmit={formSubmit}>\n        <SearchButton type=\"submit\">\n          <ButtonLabel>Search</ButtonLabel>\n        </SearchButton>\n\n        <SearchInput\n          onChange={onSearchChange}\n          type=\"text\"\n          autocomplete=\"off\"\n          value={value}\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </SearchForm>\n    </SearchbarItem>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Gallery = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import { Gallery } from \"./ImageGallery.styled\";\nimport PropTypes from \"prop-types\";\nexport const ImageGallery = ({ children }) => {\n  return <Gallery>{children}</Gallery>;\n};\n\nImageGallery.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const GalleryImgItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nexport const GalleryImg = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n","import { GalleryImgItem, GalleryImg } from \"./ImageGalleryItem.styled\";\nimport PropTypes from \"prop-types\";\nexport const GalleryItem = ({ images, onClick }) => {\n  return images.map(({ webformatURL, tags, largeImageURL }) => {\n    return (\n      <GalleryImgItem key={webformatURL} onClick={() => onClick(largeImageURL)}>\n        <GalleryImg src={webformatURL} alt={tags} />\n      </GalleryImgItem>\n    );\n  });\n};\n\nGalleryItem.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const LoadMore = styled.button`\n  border-radius: 10px;\n  padding: 10px 20px;\n  border-width: 3px;\n  border-color: green;\n  outline: none;\n  cursor: pointer;\n  margin: 20px 0 20px 0;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%, 0);\n  background-color: #3f51b5;\n  color: #fff;\n`;\n","import PropTypes from \"prop-types\";\nimport { LoadMore } from \"./Button.styled\";\nexport const Button = ({ onSubmit, page }) => {\n  const submit = (e) => {\n    e.preventDefault();\n    onSubmit({ page: page + 1 });\n  };\n  return (\n    <LoadMore type=\"submit\" onClick={submit}>\n      Load more\n    </LoadMore>\n  );\n};\n\nButton.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nexport const ModalImg = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import { ModalImg, Overlay } from \"./Modal.styled\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useCallback } from \"react\";\n\nexport const Modal = ({ modalSrc, keyDown }) => {\n  const onCloseModal = useCallback(\n    (e) => {\n      if (e.target === e.currentTarget || e.code === \"Escape\") {\n        keyDown(true);\n      }\n    },\n    [keyDown]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onCloseModal);\n    return () => {\n      window.removeEventListener(\"keydown\", onCloseModal);\n    };\n  }, [onCloseModal, modalSrc]);\n\n  return (\n    <Overlay onClick={onCloseModal}>\n      <ModalImg>\n        <img src={modalSrc} alt=\"Big img\" />\n      </ModalImg>\n    </Overlay>\n  );\n};\n\nModal.propTypes = {\n  keyDown: PropTypes.func.isRequired,\n  modalSrc: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { apiRequest } from \"./service/apiRequest\";\nimport { Searchbar } from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\nimport { GalleryItem } from \"./components/ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"./components/Button/Button\";\nimport { Modal } from \"./components/Modal/Modal\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Loader from \"react-loader-spinner\";\n\nexport const App = () => {\n  const [images, setImages] = useState([]);\n  const [searchValue, setSearchValue] = useState(null);\n  const [page, setPage] = useState(0);\n  const [isLoader, setIsLoader] = useState(false);\n  const [modalSrc, setModalSrc] = useState(\"\");\n\n  const onSubmit = (searchbarData) => {\n    setIsLoader(true);\n    const { value, page } = searchbarData;\n    if (value) {\n      setSearchValue(value);\n      setPage(page);\n    } else {\n      setPage(page);\n    }\n    setIsLoader(false);\n  };\n\n  useEffect(() => {\n    if (searchValue === null) {\n      return;\n    }\n    if (page === 1) {\n      setImages([]);\n    }\n    setIsLoader(true);\n    apiRequest(searchValue, page)\n      .then((data) => {\n        if (data.hits.length !== 0) {\n          setImages((ps) => [...ps, ...data.hits]);\n        } else {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n        }\n        scrollToBottom();\n        setIsLoader(false);\n      })\n      .catch((error) => {\n        toast.error(\n          \"Sorry, there are no images matching your search query. Please try again.\"\n        );\n      });\n  }, [page, searchValue]);\n\n  const scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery>\n        <GalleryItem\n          images={images}\n          onClick={setModalSrc}\n          keyDown={setModalSrc}\n        />\n      </ImageGallery>\n      {modalSrc && <Modal modalSrc={modalSrc} keyDown={setModalSrc} />}\n      {images.length > 0 && <Button onSubmit={onSubmit} page={page} />}\n      {isLoader && (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={80}\n          width={80}\n          timeout={500}\n          className=\"Loader\"\n        />\n      )}\n      <Toaster position=\"top-right\" />\n    </>\n  );\n};\n","import axios from \"axios\";\nexport const apiRequest = (searchValue, page) => {\n  const KEY = \"22603230-d9263c0bbd59724fbb3598b9f\";\n  const API = `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=20`;\n  return axios.get(API).then((r) => r.data);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}