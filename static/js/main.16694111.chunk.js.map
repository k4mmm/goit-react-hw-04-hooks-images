{"version":3,"sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.jsx","service/apiRequest.js","index.js"],"names":["Searchbar","styled","header","SearchForm","form","SearchButton","button","ButtonLabel","label","SearchInput","input","state","value","onSearchChange","e","setState","currentTarget","formSubmit","onSubmit","props","preventDefault","trim","toast","error","page","hits","this","type","onChange","autocomplete","autoFocus","placeholder","Component","Gallery","ul","ImageGallery","children","GalleryImgItem","li","GalleryImg","img","GalleryItem","images","onClick","map","webformatURL","tags","largeImageURL","src","alt","LoadMore","Button","Overlay","div","ModalImg","Modal","onCloseModal","target","code","keyDown","window","addEventListener","removeEventListener","modalSrc","App","searchValue","isLoader","searchbarData","loaderChange","position","scrollToBottom","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","bigImg","isCloseModal","prevProps","prevState","API","axios","get","then","r","data","apiRequest","length","catch","color","height","width","timeout","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16694111.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Searchbar = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const ButtonLabel = styled.label`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import React, { Component } from \"react\";\nimport toast from \"react-hot-toast\";\nimport PropTypes from \"prop-types\";\nimport {\n  ButtonLabel,\n  SearchButton,\n  SearchForm,\n  SearchInput,\n  Searchbar as SearchbarItem,\n} from \"./Searchbar.styled\";\n\nexport default class Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  onSearchChange = (e) => {\n    this.setState({ value: e.currentTarget.value });\n  };\n\n  formSubmit = (e) => {\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    e.preventDefault();\n\n    value.trim() === \"\"\n      ? toast.error(\"Search is empty\")\n      : onSubmit({ value: value, page: 1, hits: 0 });\n  };\n\n  render() {\n    const { value } = this.state.value;\n    return (\n      <SearchbarItem>\n        <SearchForm onSubmit={this.formSubmit}>\n          <SearchButton type=\"submit\">\n            <ButtonLabel>Search</ButtonLabel>\n          </SearchButton>\n\n          <SearchInput\n            onChange={this.onSearchChange}\n            type=\"text\"\n            autocomplete=\"off\"\n            value={value}\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </SearchForm>\n      </SearchbarItem>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Gallery = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import { Gallery } from \"./ImageGallery.styled\";\nimport PropTypes from \"prop-types\";\nexport const ImageGallery = ({ children }) => {\n  return <Gallery>{children}</Gallery>;\n};\n\nImageGallery.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const GalleryImgItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nexport const GalleryImg = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n","import { GalleryImgItem, GalleryImg } from \"./ImageGalleryItem.styled\";\nimport PropTypes from \"prop-types\";\nexport const GalleryItem = ({ images, onClick }) => {\n  return images.map(({ webformatURL, tags, largeImageURL }) => {\n    return (\n      <GalleryImgItem key={webformatURL} onClick={() => onClick(largeImageURL)}>\n        <GalleryImg src={webformatURL} alt={tags} />\n      </GalleryImgItem>\n    );\n  });\n};\n\nGalleryItem.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const LoadMore = styled.button`\n  border-radius: 10px;\n  padding: 10px 20px;\n  border-width: 3px;\n  border-color: green;\n  outline: none;\n  cursor: pointer;\n  margin: 20px 0 20px 0;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%, 0);\n  background-color: #3f51b5;\n  color: #fff;\n`;\n","import PropTypes from \"prop-types\";\nimport { LoadMore } from \"./Button.styled\";\nexport const Button = ({ onSubmit, page, hits }) => {\n  const submit = (e) => {\n    e.preventDefault();\n    onSubmit({ page: page + 1 });\n  };\n  return (\n    hits !== 0 && (\n      <LoadMore type=\"submit\" onClick={submit}>\n        Load more\n      </LoadMore>\n    )\n  );\n};\n\nButton.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  hits: PropTypes.number.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nexport const ModalImg = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import { ModalImg, Overlay } from \"./Modal.styled\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onCloseModal);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onCloseModal);\n  }\n\n  onCloseModal = (e) => {\n    if (e.target === e.currentTarget || e.code === \"Escape\") {\n      this.props.keyDown(true);\n    }\n  };\n\n  render() {\n    const { modalSrc } = this.props;\n\n    return (\n      <Overlay onClick={this.onCloseModal}>\n        <ModalImg>\n          <img src={modalSrc} alt=\"Big img\" />\n        </ModalImg>\n      </Overlay>\n    );\n  }\n}\n\nModal.propTypes = {\n  keyDown: PropTypes.func.isRequired,\n  modalSrc: PropTypes.string.isRequired,\n};\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { apiRequest } from \"./service/apiRequest\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\nimport { GalleryItem } from \"./components/ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    hits: 0,\n    searchValue: null,\n    page: 1,\n    isLoader: false,\n    modalSrc: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, searchValue } = this.state;\n\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      this.loaderChange(true);\n      apiRequest(searchValue, page)\n        .then((data) => {\n          if (data.hits.length !== 0) {\n            this.setState((prevState) => {\n              return {\n                images: [...prevState.images, ...data.hits],\n                hits: prevState.hits + data.hits.length,\n              };\n            });\n          } else {\n            toast.error(\n              \"Sorry, there are no images matching your search query. Please try again.\"\n            );\n          }\n          this.scrollToBottom();\n          this.loaderChange(false);\n        })\n        .catch((error) => {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n        });\n    }\n  }\n\n  onSubmit = (searchbarData) => {\n    const { value, hits, page } = searchbarData;\n    value\n      ? this.setState({\n          images: [],\n          searchValue: value,\n          page,\n          hits,\n        })\n      : this.setState({ page });\n  };\n\n  loaderChange = (position) => {\n    return this.setState({ isLoader: position });\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  openModal = (bigImg) => {\n    this.setState({ modalSrc: bigImg });\n  };\n\n  keyDown = (isCloseModal) => {\n    if (isCloseModal) {\n      this.setState({ modalSrc: \"\" });\n    }\n  };\n\n  render() {\n    const { hits, images, isLoader, modalSrc, page } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery>\n          <GalleryItem\n            images={images}\n            onClick={this.openModal}\n            keyDown={this.keyDown}\n          />\n        </ImageGallery>\n        {modalSrc && <Modal modalSrc={modalSrc} keyDown={this.keyDown} />}\n        <Button onSubmit={this.onSubmit} page={page} hits={hits} />\n        <Toaster position=\"top-right\" />\n        {isLoader && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={500}\n            className=\"Loader\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import axios from \"axios\";\nexport const apiRequest = (searchValue, page) => {\n  const KEY = \"22603230-d9263c0bbd59724fbb3598b9f\";\n  const API = `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=20`;\n  return axios.get(API).then((r) => r.data);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}